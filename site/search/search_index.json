{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Servi\u00e7os para o 2\u00ba bimestre DHCP DNS LDAP PROXY SMB","title":"Servi\u00e7os para o 2\u00ba bimestre"},{"location":"#servicos-para-o-2o-bimestre","text":"DHCP DNS LDAP PROXY SMB","title":"Servi\u00e7os para o 2\u00ba bimestre"},{"location":"dhcp/","text":"DHCP O DHCP (Dynamic Host Configuration Protocol) \u00e9 um protocolo de rede que automatiza a atribui\u00e7\u00e3o de endere\u00e7os IP e configura\u00e7\u00f5es relacionadas a dispositivos em uma rede. Em vez de configurar manualmente cada dispositivo com um endere\u00e7o IP, gateway e servidor DNS, o DHCP permite que os dispositivos obtenham essas informa\u00e7\u00f5es automaticamente do servidor DHCP da rede. Isso simplifica a administra\u00e7\u00e3o de redes, pois os endere\u00e7os IP s\u00e3o atribu\u00eddos dinamicamente, facilitando a adi\u00e7\u00e3o ou remo\u00e7\u00e3o de dispositivos na rede sem a necessidade de interven\u00e7\u00e3o manual. Instala\u00e7\u00e3o Para esse processo precisamos de uma maquina virtual linux e uma maquina windows xp, a linux servir\u00e1 para nosso servidor DHCP e a windows xp ser\u00e1 nosso cliente. Para instalarmos o DHCP, precisamos instalar o pacote dnsmask, que oferece um servidor DHCP, alem de disponibilizar tamb\u00e9m servidores dns e TFTP O comando para instalar \u00e9: apk add dnsmasq Configura\u00e7\u00e3o Primeiro definimos a ip do servidor DHCP nas configura\u00e7\u00f5es de redes, Apos isso, vamos configurar o arquivo do DHCP. Eu nomeei como /etc/dnsmasq.d/asa.conf e quando acessar precisamos definir o range dos IPs para acessar usei o editor de texto nano, portanto ficou assim o comando: nano /etc/dnsmasq.d/asa.conf Ap\u00f3s feita a configura\u00e7\u00e3o na maquina linux, vamos para a windows configurar os clientes. Vamos fazer configura\u00e7\u00f5es para duas m\u00e1quinas, uma ficar\u00e1 com o ip reservado pelo endere\u00e7o mac dela e outra pegar\u00e1 um ip aleat\u00f3rio dentro do range definido. Vamos em \"configura\u00e7\u00e3o de rede\", protocolo \"TCP/IP\" e l\u00e1 definimos para pegar os IP automaticamente no servidor DHCP, e tamb\u00e9m colocamos o DNS prefercial e o alternativo. Ficar\u00e1 dessa forma: Quando terminado a configura\u00e7\u00e3o, restartamos o dnsmasq e reiniciamos as maquinas Para restartar o servidor DHCP usamos o seguinte comando: rc-service dnsmasq restart Teste A configura\u00e7\u00e3o da maquina que pegar\u00e1 um IP aleat\u00f3rio dentro do Range ficar\u00e1 assim: E a m\u00e1quina onde foi definido um ip fixo para ela ficar\u00e1 assim:","title":"DHCP"},{"location":"dhcp/#dhcp","text":"O DHCP (Dynamic Host Configuration Protocol) \u00e9 um protocolo de rede que automatiza a atribui\u00e7\u00e3o de endere\u00e7os IP e configura\u00e7\u00f5es relacionadas a dispositivos em uma rede. Em vez de configurar manualmente cada dispositivo com um endere\u00e7o IP, gateway e servidor DNS, o DHCP permite que os dispositivos obtenham essas informa\u00e7\u00f5es automaticamente do servidor DHCP da rede. Isso simplifica a administra\u00e7\u00e3o de redes, pois os endere\u00e7os IP s\u00e3o atribu\u00eddos dinamicamente, facilitando a adi\u00e7\u00e3o ou remo\u00e7\u00e3o de dispositivos na rede sem a necessidade de interven\u00e7\u00e3o manual.","title":"DHCP"},{"location":"dhcp/#instalacao","text":"Para esse processo precisamos de uma maquina virtual linux e uma maquina windows xp, a linux servir\u00e1 para nosso servidor DHCP e a windows xp ser\u00e1 nosso cliente. Para instalarmos o DHCP, precisamos instalar o pacote dnsmask, que oferece um servidor DHCP, alem de disponibilizar tamb\u00e9m servidores dns e TFTP O comando para instalar \u00e9: apk add dnsmasq","title":"Instala\u00e7\u00e3o"},{"location":"dhcp/#configuracao","text":"Primeiro definimos a ip do servidor DHCP nas configura\u00e7\u00f5es de redes, Apos isso, vamos configurar o arquivo do DHCP. Eu nomeei como /etc/dnsmasq.d/asa.conf e quando acessar precisamos definir o range dos IPs para acessar usei o editor de texto nano, portanto ficou assim o comando: nano /etc/dnsmasq.d/asa.conf Ap\u00f3s feita a configura\u00e7\u00e3o na maquina linux, vamos para a windows configurar os clientes. Vamos fazer configura\u00e7\u00f5es para duas m\u00e1quinas, uma ficar\u00e1 com o ip reservado pelo endere\u00e7o mac dela e outra pegar\u00e1 um ip aleat\u00f3rio dentro do range definido. Vamos em \"configura\u00e7\u00e3o de rede\", protocolo \"TCP/IP\" e l\u00e1 definimos para pegar os IP automaticamente no servidor DHCP, e tamb\u00e9m colocamos o DNS prefercial e o alternativo. Ficar\u00e1 dessa forma: Quando terminado a configura\u00e7\u00e3o, restartamos o dnsmasq e reiniciamos as maquinas Para restartar o servidor DHCP usamos o seguinte comando: rc-service dnsmasq restart","title":"Configura\u00e7\u00e3o"},{"location":"dhcp/#teste","text":"A configura\u00e7\u00e3o da maquina que pegar\u00e1 um IP aleat\u00f3rio dentro do Range ficar\u00e1 assim: E a m\u00e1quina onde foi definido um ip fixo para ela ficar\u00e1 assim:","title":"Teste"},{"location":"dns/","text":"DNS Instala\u00e7\u00e3o Configura\u00e7\u00e3o Incluir o(s) nome(s) e o conte\u00fado do(s) arquivo(s) de configura\u00e7\u00e3o. Cinco registros (4 pontos cada): 3 do tipo A (Endere\u00e7os); 2 do tipo CNAME ( www e docs ); Teste","title":"DNS"},{"location":"dns/#dns","text":"","title":"DNS"},{"location":"dns/#instalacao","text":"","title":"Instala\u00e7\u00e3o"},{"location":"dns/#configuracao","text":"Incluir o(s) nome(s) e o conte\u00fado do(s) arquivo(s) de configura\u00e7\u00e3o. Cinco registros (4 pontos cada): 3 do tipo A (Endere\u00e7os); 2 do tipo CNAME ( www e docs );","title":"Configura\u00e7\u00e3o"},{"location":"dns/#teste","text":"","title":"Teste"},{"location":"ldap/","text":"LDAP Instala\u00e7\u00e3o \u00c9 preciso de uma m\u00e1quina virtual linux com o samba e uma maquina com windowns 7 para se comunicar com o samba; Para instalar o samba na maquina virtual linux voc\u00ea precisar\u00e1 dar os seguintes comandos: apk add samba Configura\u00e7\u00e3o Para configurar precisaremos colocar um nome para nossa m\u00e1quina virtual No caso o nome ficou noronha.pernambuco.lab E o nome do dominio No caso ser\u00e1 pernambuco.lab Para colocar o dom\u00ednio na m\u00e1quina virtual windows voc\u00ea far\u00e1 o seguinte: 1 - Primeiro entre na mv linux e em /etc/network/interfaces L\u00e1 voc\u00ea define o ip estatico para a interface desejada. 2 - Depois acesse propriedades de protocolo TCP/IP Ipv4 e configure a rede Desta maneira: Depois disso v\u00e1 em \"Painel de controle\" > \"Sistema e Seguran\u00e7a\" > \"Sistema\" > \"Alterar configura\u00e7\u00f5es\" Voc\u00ea abrir\u00e1 uma aba de propriedades do sistema, nela voc\u00ea pode alterar o nome da m\u00e1quina e definir um dom\u00ednio para acessar. Ap\u00f3s definir o dom\u00ednio \"pernambuco.lab\" voc\u00ea conseguir\u00e1 acessar o servidor samba que est\u00e1 na m\u00e1quina linux da sua maquina virtual linux. Agora vamos criar as OUs Para criar uma nova OU (Unidade Organizacional) vamos na maquina windows, procure no barra de pesquina por \"Usu\u00e1rios e Computadores do Active Diretory\" Ao acessar voc\u00ea vera algumas OUs padr\u00e3o do dom\u00ednio pernambuco.lab. Clique numa pasta de nome \"Unidade Organizacional\", ou clique com o bot\u00e3o direito do mouse que voc\u00ea ver\u00e1 a op\u00e7\u00e3o. Crie duas OUs, uma de nome \"vendedores\" e outra de nome \"rh\" Movendo o grupo pela interface gr\u00e1fica Para mover o grupos para as novas OUs bas clicar com o bot\u00e3o direito do mouse, selecionar \"Mover\" e direcionar o destino. Desse geito: Testes As OUs \"vendedores\" e \"rh\" ficar\u00e3o desse geitos com os respequitivos usu\u00e1rios; E adicionando usu\u00e1rios nos grupos ficar\u00e1 da seguinte forma;","title":"LDAP"},{"location":"ldap/#ldap","text":"","title":"LDAP"},{"location":"ldap/#instalacao","text":"\u00c9 preciso de uma m\u00e1quina virtual linux com o samba e uma maquina com windowns 7 para se comunicar com o samba; Para instalar o samba na maquina virtual linux voc\u00ea precisar\u00e1 dar os seguintes comandos: apk add samba","title":"Instala\u00e7\u00e3o"},{"location":"ldap/#configuracao","text":"Para configurar precisaremos colocar um nome para nossa m\u00e1quina virtual No caso o nome ficou noronha.pernambuco.lab E o nome do dominio No caso ser\u00e1 pernambuco.lab Para colocar o dom\u00ednio na m\u00e1quina virtual windows voc\u00ea far\u00e1 o seguinte: 1 - Primeiro entre na mv linux e em /etc/network/interfaces L\u00e1 voc\u00ea define o ip estatico para a interface desejada. 2 - Depois acesse propriedades de protocolo TCP/IP Ipv4 e configure a rede Desta maneira: Depois disso v\u00e1 em \"Painel de controle\" > \"Sistema e Seguran\u00e7a\" > \"Sistema\" > \"Alterar configura\u00e7\u00f5es\" Voc\u00ea abrir\u00e1 uma aba de propriedades do sistema, nela voc\u00ea pode alterar o nome da m\u00e1quina e definir um dom\u00ednio para acessar. Ap\u00f3s definir o dom\u00ednio \"pernambuco.lab\" voc\u00ea conseguir\u00e1 acessar o servidor samba que est\u00e1 na m\u00e1quina linux da sua maquina virtual linux.","title":"Configura\u00e7\u00e3o"},{"location":"ldap/#agora-vamos-criar-as-ous","text":"Para criar uma nova OU (Unidade Organizacional) vamos na maquina windows, procure no barra de pesquina por \"Usu\u00e1rios e Computadores do Active Diretory\" Ao acessar voc\u00ea vera algumas OUs padr\u00e3o do dom\u00ednio pernambuco.lab. Clique numa pasta de nome \"Unidade Organizacional\", ou clique com o bot\u00e3o direito do mouse que voc\u00ea ver\u00e1 a op\u00e7\u00e3o. Crie duas OUs, uma de nome \"vendedores\" e outra de nome \"rh\"","title":"Agora vamos criar as OUs"},{"location":"ldap/#movendo-o-grupo-pela-interface-grafica","text":"Para mover o grupos para as novas OUs bas clicar com o bot\u00e3o direito do mouse, selecionar \"Mover\" e direcionar o destino. Desse geito:","title":"Movendo o grupo pela interface gr\u00e1fica"},{"location":"ldap/#testes","text":"As OUs \"vendedores\" e \"rh\" ficar\u00e3o desse geitos com os respequitivos usu\u00e1rios; E adicionando usu\u00e1rios nos grupos ficar\u00e1 da seguinte forma;","title":"Testes"},{"location":"proxy/","text":"PROXY Um proxy atua como intermedi\u00e1rio entre um dispositivo e a internet. Ele recebe solicita\u00e7\u00f5es do dispositivo, encaminha essas solicita\u00e7\u00f5es para os servidores da internet e, em seguida, retorna as respostas aos dispositivos. Isso permite ocultar o endere\u00e7o IP do dispositivo, melhorar a seguran\u00e7a, e filtrar ou modificar o tr\u00e1fego para diversos fins, como controle de acesso ou otimiza\u00e7\u00e3o de desempenho. Instala\u00e7\u00e3o Para configurar os proxy na maquina temos primeiro que instalar o pacote squid, e para fazer essa instala\u00e7\u00e3o usados o comando: sudo apt update \\ sudo apt install squid Configura\u00e7\u00e3o Para configurar, por medidas de seguran\u00e7a fazemos uma c\u00f3pia do arquivo de configura\u00e7\u00e3o do squid. Usamos o seguinte comando: sudo cp /etc/squid/squid.conf /etc/squid/squid.conf.bak Feito a c\u00f3pia, agora podemos fazer as configura\u00e7\u00f5es. usando o comando nano /etc/squid/squid.conf entramos no arquivo de configura\u00e7\u00e3o podemos adicioar as linhas de comando proxy ACLs As Listas de Controle de Acesso (ACLs) em um proxy referem-se a regras que controlam ou filtram o tr\u00e1fego com base em crit\u00e9rios espec\u00edficos, como endere\u00e7os IP, portas ou tipos de conte\u00fado. Essas ACLs ajudam a gerenciar o acesso e definir pol\u00edticas de seguran\u00e7a no proxy, determinando quais solicita\u00e7\u00f5es s\u00e3o permitidas ou bloqueadas. Configuramos no browser, o ip e a porta para habilitar o proxy na m\u00e1quina: As ACLs usadas como regras para os testes foram as seguintes: acl site_ban dstdomain .facebook.com .wikipedia.org .globo.com \\ acl firefox browser Firefox \\ acl hora_entrada time MTWHF 21:30-23:59 \\ acl ipblock dst 104.16.36.133 E para aplicar essas regras usamos os comandos: http_access deny site_ban \\ http_access allow hora_entrada \\ http_access deny firefox \\ http_access deny ipblock Basicamente, ACL 1: bloqueia os dominios do facebook, wikipedia e globo;\\ ACL 2: bloqueia o browser firefox;\\ ACL 3: habilita o usu\u00e1rio para usar a maquina no hor\u00e1rio definido;\\ ACL 4: bloquia o acesso ao ip do instagram; Incluir o(s) nome(s) e o conte\u00fado do(s) arquivo(s) de configura\u00e7\u00e3o. Fazer a configura\u00e7\u00e3o de 4 ACLs distintas, conforme a atividade passada em sala de aula. Teste O arquivo de configura\u00e7\u00e3o ficou assim: Os logs de utilza\u00e7\u00f5a das regras: Os sites que as regras proxys foram definidas, ficaram da seguinte maneira: Ao tentar usar o github com a permiss\u00e3o de browser, n\u00e3o \u00e9 permitido E ap\u00f3s entrar no tempo definido na regra da 3\u00aa linha, o site github \u00e9 habilitado para uso","title":"PROXY"},{"location":"proxy/#proxy","text":"Um proxy atua como intermedi\u00e1rio entre um dispositivo e a internet. Ele recebe solicita\u00e7\u00f5es do dispositivo, encaminha essas solicita\u00e7\u00f5es para os servidores da internet e, em seguida, retorna as respostas aos dispositivos. Isso permite ocultar o endere\u00e7o IP do dispositivo, melhorar a seguran\u00e7a, e filtrar ou modificar o tr\u00e1fego para diversos fins, como controle de acesso ou otimiza\u00e7\u00e3o de desempenho.","title":"PROXY"},{"location":"proxy/#instalacao","text":"Para configurar os proxy na maquina temos primeiro que instalar o pacote squid, e para fazer essa instala\u00e7\u00e3o usados o comando: sudo apt update \\ sudo apt install squid","title":"Instala\u00e7\u00e3o"},{"location":"proxy/#configuracao","text":"Para configurar, por medidas de seguran\u00e7a fazemos uma c\u00f3pia do arquivo de configura\u00e7\u00e3o do squid. Usamos o seguinte comando: sudo cp /etc/squid/squid.conf /etc/squid/squid.conf.bak Feito a c\u00f3pia, agora podemos fazer as configura\u00e7\u00f5es. usando o comando nano /etc/squid/squid.conf entramos no arquivo de configura\u00e7\u00e3o podemos adicioar as linhas de comando proxy","title":"Configura\u00e7\u00e3o"},{"location":"proxy/#acls","text":"As Listas de Controle de Acesso (ACLs) em um proxy referem-se a regras que controlam ou filtram o tr\u00e1fego com base em crit\u00e9rios espec\u00edficos, como endere\u00e7os IP, portas ou tipos de conte\u00fado. Essas ACLs ajudam a gerenciar o acesso e definir pol\u00edticas de seguran\u00e7a no proxy, determinando quais solicita\u00e7\u00f5es s\u00e3o permitidas ou bloqueadas. Configuramos no browser, o ip e a porta para habilitar o proxy na m\u00e1quina: As ACLs usadas como regras para os testes foram as seguintes: acl site_ban dstdomain .facebook.com .wikipedia.org .globo.com \\ acl firefox browser Firefox \\ acl hora_entrada time MTWHF 21:30-23:59 \\ acl ipblock dst 104.16.36.133 E para aplicar essas regras usamos os comandos: http_access deny site_ban \\ http_access allow hora_entrada \\ http_access deny firefox \\ http_access deny ipblock Basicamente, ACL 1: bloqueia os dominios do facebook, wikipedia e globo;\\ ACL 2: bloqueia o browser firefox;\\ ACL 3: habilita o usu\u00e1rio para usar a maquina no hor\u00e1rio definido;\\ ACL 4: bloquia o acesso ao ip do instagram; Incluir o(s) nome(s) e o conte\u00fado do(s) arquivo(s) de configura\u00e7\u00e3o. Fazer a configura\u00e7\u00e3o de 4 ACLs distintas, conforme a atividade passada em sala de aula.","title":"ACLs"},{"location":"proxy/#teste","text":"O arquivo de configura\u00e7\u00e3o ficou assim: Os logs de utilza\u00e7\u00f5a das regras: Os sites que as regras proxys foram definidas, ficaram da seguinte maneira: Ao tentar usar o github com a permiss\u00e3o de browser, n\u00e3o \u00e9 permitido E ap\u00f3s entrar no tempo definido na regra da 3\u00aa linha, o site github \u00e9 habilitado para uso","title":"Teste"},{"location":"smb/","text":"SMB Instala\u00e7\u00e3o \u00c9 preciso de uma m\u00e1quina virtual linux com o samba e uma maquina com windowns 7 para se comunicar com o samba; Para instalar o samba na maquina virtual linux voc\u00ea precisar\u00e1 dar os seguintes comandos: apk add samba Configura\u00e7\u00e3o Criando os grupos Dentro da OU vendedores vamos criar o grupo oliveira Dentro da OU rh vamos criar o grupo silvestre Para criar os grupos basta clicar com o bot\u00e3o direito do mouse, depois em \"novo\" e \"grupo\" Criando os usu\u00e1rios Para cada pasta vamos criar 4 usu\u00e1rios, para criar os usu\u00e1rios clicamos com o bot\u00e3o direito do mouse, \"Novo\" > \"Usu\u00e1rio\" Ap\u00f3s criar todos os usu\u00e1rios. Ficar\u00e3o dessa forma: Depois basta adicionar os usu\u00e1rios de cada pasta dentro de seu grupo. Para fazer isso, basta selecionar todos os usu\u00e1rios, clicar com o bot\u00e3o direito do mouse e \"Adicionar a um grupo\" L\u00e1 basta digitar o nome do grupo que voc\u00ea deseja. Eles ficar\u00e3o assim: Criando pastas compartilhada Para criar as pastas compartilhadas para esses grupos vamo na mv linux e usamos o c\u00f3digo: mkdir /srv/samba/oliveira mkdir /srv/samba/silvestre ser\u00e3o criadas pastas no servi\u00e7o samba e elas ser\u00e3o configuradas da seguinte forma: acessando o aquivo \"/etc/samba/smb.conf\" ap\u00f3s isso \u00e9 s\u00f3 entrar na m\u00e1quina windows, digitar o comando \"\\noronha\" que \u00e9 o nome da m\u00e1quina e ver as pastas compartilhadas. Elas s\u00f3 poder\u00e3o ser acessadas pelos usu\u00e1rios especificos de cada grupo. Testes Se tentar acessar a pasta com um usu\u00e1rio de um outro grupo, aparecer\u00e1 essa mensagem:","title":"SMB"},{"location":"smb/#smb","text":"","title":"SMB"},{"location":"smb/#instalacao","text":"\u00c9 preciso de uma m\u00e1quina virtual linux com o samba e uma maquina com windowns 7 para se comunicar com o samba; Para instalar o samba na maquina virtual linux voc\u00ea precisar\u00e1 dar os seguintes comandos: apk add samba","title":"Instala\u00e7\u00e3o"},{"location":"smb/#configuracao","text":"","title":"Configura\u00e7\u00e3o"},{"location":"smb/#criando-os-grupos","text":"Dentro da OU vendedores vamos criar o grupo oliveira Dentro da OU rh vamos criar o grupo silvestre Para criar os grupos basta clicar com o bot\u00e3o direito do mouse, depois em \"novo\" e \"grupo\"","title":"Criando os grupos"},{"location":"smb/#criando-os-usuarios","text":"Para cada pasta vamos criar 4 usu\u00e1rios, para criar os usu\u00e1rios clicamos com o bot\u00e3o direito do mouse, \"Novo\" > \"Usu\u00e1rio\" Ap\u00f3s criar todos os usu\u00e1rios. Ficar\u00e3o dessa forma: Depois basta adicionar os usu\u00e1rios de cada pasta dentro de seu grupo. Para fazer isso, basta selecionar todos os usu\u00e1rios, clicar com o bot\u00e3o direito do mouse e \"Adicionar a um grupo\" L\u00e1 basta digitar o nome do grupo que voc\u00ea deseja. Eles ficar\u00e3o assim:","title":"Criando os usu\u00e1rios"},{"location":"smb/#criando-pastas-compartilhada","text":"Para criar as pastas compartilhadas para esses grupos vamo na mv linux e usamos o c\u00f3digo: mkdir /srv/samba/oliveira mkdir /srv/samba/silvestre ser\u00e3o criadas pastas no servi\u00e7o samba e elas ser\u00e3o configuradas da seguinte forma: acessando o aquivo \"/etc/samba/smb.conf\" ap\u00f3s isso \u00e9 s\u00f3 entrar na m\u00e1quina windows, digitar o comando \"\\noronha\" que \u00e9 o nome da m\u00e1quina e ver as pastas compartilhadas. Elas s\u00f3 poder\u00e3o ser acessadas pelos usu\u00e1rios especificos de cada grupo.","title":"Criando pastas compartilhada"},{"location":"smb/#testes","text":"Se tentar acessar a pasta com um usu\u00e1rio de um outro grupo, aparecer\u00e1 essa mensagem:","title":"Testes"}]}